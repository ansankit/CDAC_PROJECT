{"ast":null,"code":"var _jsxFileName = \"D:\\\\CDAC Project\\\\frontendcopy\\\\src\\\\components\\\\pages\\\\SellCar\\\\Sellcar.js\";\nimport React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport './Sellcar.css';\nimport NavBar1 from './../NavBar/Navabar1/NavBar1';\nimport CustHome from './../CustomerHome/CustHome';\nimport GetMyCars from './GetMyCars';\nimport UserContext from './../../Session/Session';\n\nconst Sellcar = () => {\n  const {\n    value,\n    setValue\n  } = useContext(UserContext);\n  const url = 'http://localhost:8080';\n  const [companyId, setCompanyId] = useState('');\n  const [userId, setUserId] = useState('');\n  const [modelId, setModelId] = useState('');\n  const [fuelType, setFuelType] = useState('');\n  const [kmDriven, setKmDriven] = useState('');\n  const [price, setPrice] = useState('');\n  const [color, setColor] = useState('');\n  const [date, setDate] = useState('');\n  const [city, setCity] = useState('');\n  const [carImage, setCarImage] = useState('');\n  const [companies, setCompanies] = useState([]);\n  const [models, setModels] = useState([]);\n  useEffect(() => {\n    loadCompanies();\n  }, []); //get api on load\n\n  const loadCompanies = async () => {\n    const result = await axios.get(url + '/getcompanies');\n    setCompanies(result.data.data);\n    setUserId(value.data.userId);\n    console.log(result.data.userId);\n  }; //get api on change\n\n\n  const loadModels = async e => {\n    const cid = e.target.value;\n    setCompanyId(cid);\n    const result = await axios.get(url + '/getmodels');\n    setModels(result.data.data);\n    console.log(result.data);\n  };\n\n  const history = useHistory();\n\n  const sellCar = () => {\n    if (fuelType.length === 0) {\n      alert('Enter Fuel Type');\n    } else if (kmDriven.length === 0) {\n      alert('Enter Kms driven ');\n    } else if (price.length === 0) {\n      alert('Enter Price');\n    } else if (color.length === 0) {\n      alert('Enter Car Color');\n    } else if (date.length === 0) {\n      alert('Enter Date');\n    } else if (city.length === 0) {\n      alert('Enter city');\n    } else if (carImage.length === 0) {\n      alert('Enter state');\n    } else {\n      const data = new FormData();\n      data.append('companyId', companyId);\n      data.append('userId', userId);\n      data.append('modelId', modelId);\n      data.append('fuelType', fuelType);\n      data.append('price', price);\n      data.append('color', color);\n      data.append('date', date);\n      data.append('city', city);\n      data.append('kmDriven', kmDriven);\n      data.append('carImage', carImage);\n      console.log(value.data); // http://localhost:8080/postcar\n\n      axios.post(url + '/postcar', data).then(response => {\n        const result = response.data;\n\n        if (result.status === 'success') {\n          alert('Car Added Sucesssfully');\n          history.push('/CustHome');\n        } else {\n          alert('Error While Adding Data');\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NavBar1, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \" bg-colo3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, \"SellCar Page\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, \"Select Companies\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: loadModels,\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }\n  }, companies.map((company, index) => /*#__PURE__*/React.createElement(\"option\", {\n    value: company.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 19\n    }\n  }, company.name)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, \"Select Models\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: event => {\n      setModelId(event.target.value);\n    },\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 15\n    }\n  }, models.map((model, index) => /*#__PURE__*/React.createElement(\"option\", {\n    value: model.modelId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 19\n    }\n  }, model.modelname)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, \"Fuel Type\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: event => {\n      // updating the state with user entered value\n      setFuelType(event.target.value);\n    },\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Petrol\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  }, \"Petrol\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Diesel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }, \"Diesel\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"CNG\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }, \"CNG\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Electric\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  }, \"Electric\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      // updating the state with user entered value\n      setPrice(event.target.value);\n    },\n    placeholder: \"Enter Price\",\n    className: \"form-control input-maargin\",\n    type: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }\n  }, \"KMs Driven\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      // updating the state with user entered value\n      setKmDriven(event.target.value);\n    },\n    placeholder: \"enter KMs driven\",\n    className: \"form-control input-maargin\",\n    type: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }\n  }, \"Color\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      // updating the state with user entered value\n      setColor(event.target.value);\n    },\n    placeholder: \"enter vehicle color\",\n    className: \"form-control input-maargin\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }\n  }, \"City\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      // updating the state with user entered value\n      setCity(event.target.value);\n    },\n    placeholder: \"Enter City\",\n    className: \"form-control input-maargin\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }\n  }, \"Date\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      setDate(event.target.value);\n    },\n    className: \"form-control input-maargin\",\n    type: \"Date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 13\n    }\n  }, \"Car Image\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      setCarImage(event.target.files[0]);\n    },\n    className: \"form-control input-maargin\",\n    type: \"file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn btn-warning input-maargin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/kyc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 15\n    }\n  }, \"Upload Kyc \")), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: sellCar,\n    className: \"btn btn-success input-maargin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 13\n    }\n  }, \"Submit Car\")))));\n};\n\nexport default Sellcar;","map":{"version":3,"sources":["D:/CDAC Project/frontendcopy/src/components/pages/SellCar/Sellcar.js"],"names":["React","Link","useHistory","useState","useEffect","useContext","axios","NavBar1","CustHome","GetMyCars","UserContext","Sellcar","value","setValue","url","companyId","setCompanyId","userId","setUserId","modelId","setModelId","fuelType","setFuelType","kmDriven","setKmDriven","price","setPrice","color","setColor","date","setDate","city","setCity","carImage","setCarImage","companies","setCompanies","models","setModels","loadCompanies","result","get","data","console","log","loadModels","e","cid","target","history","sellCar","length","alert","FormData","append","post","then","response","status","push","map","company","index","id","name","event","model","modelname","files"],"mappings":"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","sourcesContent":["\r\nimport React from 'react'\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useState, useEffect,useContext } from 'react'\r\nimport axios from 'axios';\r\nimport './Sellcar.css'\r\nimport NavBar1 from './../NavBar/Navabar1/NavBar1'\r\nimport CustHome from './../CustomerHome/CustHome';\r\nimport GetMyCars from './GetMyCars';\r\nimport UserContext from './../../Session/Session';\r\n\r\nconst Sellcar = () => {\r\n\r\n  const {value,setValue}=useContext(UserContext)\r\n  const url = 'http://localhost:8080'\r\n  const [companyId, setCompanyId] = useState('')\r\n  const [userId, setUserId] = useState('')\r\n  const [modelId, setModelId] = useState('')\r\n  const [fuelType, setFuelType] = useState('')\r\n  const [kmDriven, setKmDriven] = useState('')\r\n  const [price, setPrice] = useState('')\r\n  const [color, setColor] = useState('')\r\n  const [date, setDate] = useState('')\r\n  const [city, setCity] = useState('')\r\n  const [carImage, setCarImage] = useState('')\r\n\r\n  const [companies, setCompanies] = useState([]);\r\n  const [models, setModels] = useState([]);\r\n\r\n  useEffect(() => {\r\n    loadCompanies();\r\n  }, []);\r\n \r\n  //get api on load\r\n  const loadCompanies = async () => {\r\n    const result = await axios.get(url+'/getcompanies');\r\n    setCompanies(result.data.data);\r\n    setUserId(value.data.userId)\r\n    console.log(result.data.userId);\r\n  };\r\n\r\n   //get api on change\r\n  const loadModels = async (e) => {\r\n    const cid=e.target.value\r\n    setCompanyId(cid)\r\n    const result = await axios.get(url+'/getmodels');\r\n    setModels(result.data.data);\r\n    console.log(result.data);\r\n  };\r\n\r\n  const history = useHistory();\r\n\r\n  const sellCar = () => {\r\n   if (fuelType.length === 0) {\r\n      alert('Enter Fuel Type')\r\n    }\r\n    else if (kmDriven.length === 0) {\r\n      alert('Enter Kms driven ')\r\n    }\r\n    else if (price.length === 0) {\r\n      alert('Enter Price')\r\n    }\r\n    else if (color.length === 0) {\r\n      alert('Enter Car Color')\r\n    }\r\n    else if (date.length === 0) {\r\n      alert('Enter Date')\r\n    }\r\n    else if (city.length === 0) {\r\n      alert('Enter city')\r\n    }\r\n    else if (carImage.length === 0) {\r\n      alert('Enter state')\r\n    }\r\n    else {\r\n      const data = new FormData()\r\n      data.append('companyId', companyId)\r\n      data.append('userId',userId)\r\n      data.append('modelId', modelId)\r\n      data.append('fuelType', fuelType);\r\n      data.append('price', price);\r\n      data.append('color', color);\r\n      data.append('date', date);\r\n      data.append('city', city);\r\n      data.append('kmDriven', kmDriven);\r\n      data.append('carImage', carImage);\r\n      console.log(value.data)\r\n\r\n      // http://localhost:8080/postcar\r\n\r\n      axios.post(url + '/postcar', data).then((response) => {\r\n        const result = response.data\r\n        if (result.status === 'success') {\r\n          alert('Car Added Sucesssfully')\r\n          history.push('/CustHome')\r\n        }\r\n        else {\r\n          alert('Error While Adding Data')\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      <NavBar1 />\r\n      {/* <GetMyCars /> */}\r\n      <div className=\" bg-colo3\">\r\n        <h1>SellCar Page</h1>\r\n        <div>\r\n          <div className= \"col-md-3 \">\r\n            <label >Select Companies</label>\r\n              <select \r\n                onChange={loadModels}    \r\n                className=\"form-control\">\r\n                {companies.map((company, index ) => (\r\n                  <option value={company.id}>{company.name}</option>\r\n                ))}\r\n              </select>\r\n          </div>\r\n\r\n          \r\n\r\n          <div className=\"col-md-3 \">\r\n            <label >Select Models</label>\r\n              <select \r\n                onChange={(event) => {\r\n                  setModelId(event.target.value)\r\n                }}\r\n                className=\"form-control\"  >\r\n                {models.map((model, index) => (\r\n                  <option value={model.modelId}>{model.modelname}</option>\r\n                ))}\r\n              </select>\r\n          </div>\r\n\r\n            <div className=\"col-md-3 \">\r\n            <label>Fuel Type</label>\r\n            \r\n\r\n                <select \r\n                onChange={(event) => {\r\n                  // updating the state with user entered value\r\n                  setFuelType(event.target.value)\r\n                }}\r\n                className=\"form-control\"  >\r\n                <option value='Petrol'>Petrol</option>\r\n                <option value='Diesel'>Diesel</option>\r\n                <option value='CNG'>CNG</option>\r\n                <option value='Electric'>Electric</option>\r\n              </select>\r\n\r\n          </div>       \r\n      \r\n          {/* <div className=\"col-md-3 \">\r\n            <label>Fuel Type</label>\r\n            <input\r\n              onChange={(event) => {\r\n                // updating the state with user entered value\r\n                setFuelType(event.target.value)\r\n              }}\r\n              placeholder=\"Petrol/Diesel/CNG\"\r\n              className=\"form-control input-maargin\"\r\n              type=\"text\"\r\n            />\r\n          </div> */}\r\n\r\n          <div className=\"col-md-3\">\r\n            <label>Price</label>\r\n            <input\r\n              onChange={(event) => {\r\n                // updating the state with user entered value\r\n                setPrice(event.target.value)\r\n              }}\r\n              placeholder=\"Enter Price\"\r\n              className=\"form-control input-maargin\"\r\n              type=\"number\"\r\n            />\r\n\r\n          </div>\r\n          <div className=\"col-md-3 \">\r\n            <label>KMs Driven</label>\r\n            <input\r\n              onChange={(event) => {\r\n                // updating the state with user entered value\r\n                setKmDriven(event.target.value)\r\n              }}\r\n              placeholder=\"enter KMs driven\"\r\n              className=\"form-control input-maargin\"\r\n              type=\"number\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-3 \">\r\n            <label>Color</label>\r\n            <input\r\n              onChange={(event) => {\r\n                // updating the state with user entered value\r\n                setColor(event.target.value)\r\n              }}\r\n              placeholder=\"enter vehicle color\"\r\n              className=\"form-control input-maargin\"\r\n              type=\"text\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-3 \">\r\n            <label>City</label>\r\n            <input\r\n              onChange={(event) => {\r\n                // updating the state with user entered value\r\n                setCity(event.target.value)\r\n              }}\r\n              placeholder=\"Enter City\"\r\n              className=\"form-control input-maargin\"\r\n              type=\"text\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-3 \">\r\n            <label>Date</label>\r\n            <input\r\n              onChange={(event) => {\r\n                setDate(event.target.value)\r\n              }}\r\n\r\n              className=\"form-control input-maargin\"\r\n              type=\"Date\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"col-md-3 \">\r\n            <label>Car Image</label>\r\n            <input\r\n              onChange={(event) => {\r\n                setCarImage(event.target.files[0])\r\n              }}\r\n              className=\"form-control input-maargin\"\r\n              type=\"file\"\r\n            />\r\n          </div>\r\n         \r\n            \r\n          \r\n          <div className=\"col-md-3 \">\r\n            <div  className=\"btn btn-warning input-maargin\">\r\n              <Link to='/kyc' >Upload Kyc </Link>\r\n            </div>\r\n            <button onClick={sellCar} className=\"btn btn-success input-maargin\">\r\n              Submit Car\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n\r\n  )\r\n}\r\n\r\nexport default Sellcar\r\n"]},"metadata":{},"sourceType":"module"}