{"ast":null,"code":"var _jsxFileName = \"D:\\\\CDAC Project\\\\frontendcopy\\\\src\\\\components\\\\pages\\\\AdminHome\\\\AddModel.js\";\nimport './../SignIn/SignIn';\nimport axios from 'axios';\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport UserContext from '../../Session/Session';\nimport Navbar2 from './../NavBar/Navbar2/NavBar2';\nimport { Form } from 'react-bootstrap';\nimport AdminHome from './AdminHome';\n\nconst AddModel = () => {\n  const [modelname, setModel] = useState('');\n  const [companyId, setCompanyId] = useState(0);\n  const history = useHistory();\n  const {\n    value,\n    setValue\n  } = useContext(UserContext);\n  const [companies, setCompanies] = useState([]);\n  const url = 'http://localhost:8080';\n  useEffect(() => {\n    loadCompanies();\n  }, []);\n  console.log(\"companyId\" + `${companyId}`); //get api on load\n\n  const loadCompanies = async () => {\n    const result = await axios.get(url + '/getcompanies');\n    setCompanies(result.data.data);\n    console.log(result.data.data);\n  };\n\n  const registerModel = () => {\n    if (modelname.length === 0) {\n      alert('please enter mpdel name');\n    } else {\n      const data = new FormData();\n      data.append('modelname', modelname);\n      data.append('companyId', companyId);\n      console.log('-------' + data);\n      const url = 'http://localhost:8080';\n      axios.post(url + '/postmodel', data).then(response => {\n        const result = response.data;\n\n        if (result.status === 'success') {\n          alert(' Succesfully Registered Model');\n          history.push('/AdminHome');\n        } else {\n          alert('failed to Add Model');\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar2, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"loginform\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    id: \"headerTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, \"Add Model\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-control \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"select\",\n    className: \"form-control\",\n    onChange: event => {\n      setCompanyId(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, companies.map((company, index) => /*#__PURE__*/React.createElement(\"option\", {\n    value: company.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 19\n    }\n  }, company.name)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, \"Model\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter Model name\",\n    onChange: event => {\n      setModel(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"button\",\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: registerModel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, \"Add\")))));\n};\n\nexport default AddModel;","map":{"version":3,"sources":["D:/CDAC Project/frontendcopy/src/components/pages/AdminHome/AddModel.js"],"names":["axios","React","useState","useEffect","useContext","Link","useHistory","UserContext","Navbar2","Form","AdminHome","AddModel","modelname","setModel","companyId","setCompanyId","history","value","setValue","companies","setCompanies","url","loadCompanies","console","log","result","get","data","registerModel","length","alert","FormData","append","post","then","response","status","push","event","target","map","company","index","id","name"],"mappings":"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","sourcesContent":["\r\nimport './../SignIn/SignIn';\r\nimport axios from 'axios';\r\nimport React, { useState, useEffect,useContext } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport UserContext from '../../Session/Session';\r\nimport Navbar2 from './../NavBar/Navbar2/NavBar2';\r\nimport { Form } from 'react-bootstrap';\r\nimport AdminHome from './AdminHome';\r\n\r\nconst AddModel = () => {\r\n  const [modelname, setModel] = useState('')\r\n  const [companyId,setCompanyId] = useState(0)\r\n  const history = useHistory();\r\n  const {value,setValue}=useContext(UserContext)\r\n  const [companies, setCompanies] = useState([]);\r\n  const url = 'http://localhost:8080'\r\n  useEffect(() => {\r\n    loadCompanies();\r\n  }, []);\r\n \r\n  console.log(\"companyId\"+`${companyId}`);\r\n\r\n  //get api on load\r\n  const loadCompanies = async () => {\r\n    const result = await axios.get(url+'/getcompanies');\r\n    setCompanies(result.data.data);\r\n    console.log(result.data.data);\r\n  };\r\n\r\n  const registerModel = () => {\r\n  \r\n    if (modelname.length === 0) {\r\n      alert('please enter mpdel name')\r\n    } else {\r\n      const data = new FormData()\r\n      data.append('modelname', modelname);\r\n      data.append('companyId', companyId)\r\n      console.log('-------'+data)\r\n      const url = 'http://localhost:8080'\r\n\r\n      axios.post(url + '/postmodel', data).then((response) => {\r\n        const result = response.data\r\n        if (result.status === 'success') {\r\n          alert(' Succesfully Registered Model')\r\n          history.push('/AdminHome')\r\n        }\r\n        else {\r\n          alert('failed to Add Model')\r\n        }\r\n      })\r\n\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Navbar2 />\r\n      <div id=\"loginform\">\r\n        {/* Welcome {value.data.firstName} */}\r\n        <h2 id=\"headerTitle\">Add Model</h2>\r\n        <div>\r\n\r\n        <div className=\"form-control \" >\r\n              <select className=\"select\"\r\n                className=\"form-control\"\r\n                onChange={(event) => {\r\n                  setCompanyId(event.target.value)\r\n                }}>\r\n                {companies.map((company, index ) => (\r\n                  <option  \r\n                  value={company.id}\r\n                  \r\n                  >{company.name}</option>\r\n                ))}\r\n              </select>\r\n          </div>\r\n\r\n          <div className=\"row\">\r\n            <label>Model</label>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Enter Model name\"\r\n              onChange={(event) => {\r\n                setModel(event.target.value)\r\n              }}\r\n            />\r\n          </div>\r\n          <div id=\"button\" className=\"row\">\r\n            <button onClick={registerModel}>Add</button>\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n\r\n}\r\nexport default AddModel\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}