{"ast":null,"code":"var _jsxFileName = \"D:\\\\CDAC Project\\\\frontendcopy\\\\src\\\\components\\\\pages\\\\AdminHome\\\\DeleteUser.js\";\nimport axios from 'axios';\nimport React, { useEffect, useState, useContext } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nconst DeleteUser = () => {\n  const history = useHistory();\n  const location = useLocation();\n  const item = location.state.item;\n\n  const deleteUser = () => {\n    console.log(item.userId);\n\n    if (item.role === 'admin') {\n      console.log(item.role);\n      alert('Admin user can not be deleted');\n      history.push('/getusers');\n    } else {\n      const url = 'http://localhost:8080';\n      axios.delete(url + '/deleteuser/' + item.userId).then(response => {\n        const result = response.data;\n\n        if (result.status === 'success') {\n          history.push('/getusers');\n        } else {\n          alert('error occured while deleting user');\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, \"Are you sure to delete User??\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    onClick: deleteUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, \"Delete\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-warning\",\n    onClick: () => {\n      history.push('/getusers');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, \"Cancel\"));\n};\n\nexport default DeleteUser;","map":{"version":3,"sources":["D:/CDAC Project/frontendcopy/src/components/pages/AdminHome/DeleteUser.js"],"names":["axios","React","useEffect","useState","useContext","useHistory","useLocation","DeleteUser","history","location","item","state","deleteUser","console","log","userId","role","alert","push","url","delete","then","response","result","data","status"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,UAArC,QAAsD,OAAtD;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,kBAAxC;;AAIA,MAAMC,UAAU,GAAG,MAAM;AAErB,QAAMC,OAAO,GAACH,UAAU,EAAxB;AACA,QAAMI,QAAQ,GAACH,WAAW,EAA1B;AACA,QAAMI,IAAI,GAACD,QAAQ,CAACE,KAAT,CAAeD,IAA1B;;AAEA,QAAME,UAAU,GAAC,MAAI;AACjBC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAI,CAACK,MAAjB;;AACA,QAAGL,IAAI,CAACM,IAAL,KAAY,OAAf,EAAuB;AACnBH,MAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAI,CAACM,IAAjB;AACAC,MAAAA,KAAK,CAAC,+BAAD,CAAL;AACAT,MAAAA,OAAO,CAACU,IAAR,CAAa,WAAb;AACH,KAJD,MAIK;AACD,YAAMC,GAAG,GAAG,uBAAZ;AACAnB,MAAAA,KAAK,CAACoB,MAAN,CAAaD,GAAG,GAAG,cAAN,GAAqBT,IAAI,CAACK,MAAvC,EAA+CM,IAA/C,CAAqDC,QAAD,IAAc;AAC9D,cAAMC,MAAM,GAAGD,QAAQ,CAACE,IAAxB;;AACA,YAAID,MAAM,CAACE,MAAP,KAAkB,SAAtB,EAAiC;AAC7BjB,UAAAA,OAAO,CAACU,IAAR,CAAa,WAAb;AACH,SAFD,MAGK;AACDD,UAAAA,KAAK,CAAC,mCAAD,CAAL;AACH;AACJ,OARD;AASH;AACJ,GAlBD;;AAqBA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCADJ,eAEI;AAAQ,IAAA,SAAS,EAAC,gBAAlB;AAAmC,IAAA,OAAO,EAAEL,UAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAQ,IAAA,SAAS,EAAC,iBAAlB;AAAoC,IAAA,OAAO,EAAE,MAAI;AAACJ,MAAAA,OAAO,CAACU,IAAR,CAAa,WAAb;AAA0B,KAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,CADJ;AAOH,CAlCD;;AAoCA,eAAeX,UAAf","sourcesContent":["import axios from 'axios'\r\nimport React, { useEffect, useState, useContext} from 'react'\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\n\r\n\r\n\r\nconst DeleteUser = () => {\r\n\r\n    const history=useHistory()\r\n    const location=useLocation()\r\n    const item=location.state.item\r\n\r\n    const deleteUser=()=>{\r\n        console.log(item.userId);\r\n        if(item.role==='admin'){\r\n            console.log(item.role);\r\n            alert('Admin user can not be deleted')\r\n            history.push('/getusers')\r\n        }else{\r\n            const url = 'http://localhost:8080'\r\n            axios.delete(url + '/deleteuser/'+item.userId).then((response) => {\r\n                const result = response.data\r\n                if (result.status === 'success') {\r\n                    history.push('/getusers')    \r\n                }\r\n                else {\r\n                    alert('error occured while deleting user')\r\n                }\r\n            })\r\n        }\r\n    }\r\n    \r\n\r\n    return (\r\n        <center>\r\n            <h3>Are you sure to delete User??</h3>\r\n            <button className=\"btn btn-danger\" onClick={deleteUser}>Delete</button>\r\n            <button className=\"btn btn-warning\" onClick={()=>{history.push('/getusers')}}>Cancel</button>\r\n        </center>\r\n    )\r\n}\r\n\r\nexport default DeleteUser\r\n"]},"metadata":{},"sourceType":"module"}